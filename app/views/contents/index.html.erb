<%= link_to 'New Content', new_content_path %>
<br/>

<h1>Contents</h1>

<%= form_tag(contents_path, method: :get) do %>
  <div class='field'>
    <%= label_tag :tags %>
    <%= select_tag 'tags[]', options_for_select(current_user.tags.pluck(:name), params[:tags]), class: 'select2', multiple: 'multiple', style: 'width: 50%' %>
  </div>

  <div class="actions">
    <%= submit_tag('Search') %>
  </div>
<% end %>

<br>

<% if @contents.count == 0 %>
  <p> 
    Not found content
  </p>
<% end %>

<%= @contents.each do |content| %>
  <%= link_to 'Show', content_path(content)%>
  <%= link_to 'Edit', edit_content_path(content)%>
  <%= link_to 'Destroy', content_path(content), data: {turbo_method: :delete, turbo_confirm: 'Are you sure?'} %>

  
  <strong>Title</strong> - <%= content.title %> -
  <strong>Description</strong> - <%= content.description %>
  <strong>Tags</strong> - <%= content.tags.pluck(:name).join(', ')%>
  <hr/>
<% end %>

<script> 
  $(document).ready(function() {
    $('.select2').select2();
  });
</script>